<section>
    <div class="admin-wrapper-main__card--fullwidth">
        <form [formGroup]="form" (ngSubmit)="save(form)" class="admin-wrapper-main__card--form">
            <div class="admin-wrapper-main__card--form-group">
                <label>Channel:
                    <input formControlName="channel" readonly="readonly">
                </label>
            </div>
            <div formArrayName="path">
                <div *ngFor="let paths of path.controls; let i=index" [formGroupName]="i">
                    <!-- The repeated path template -->
                    <h4>path #{{i + 1}}</h4>
                    <div>
                        <div class="admin-wrapper-main__card--form-group">
                            <label>Url:</label><br>
                            <input type="text" formControlName="pathurl" class="admin-wrapper-main__card--form-input">
                        </div>
                        <div class="admin-wrapper-main__card--form-group">
                            <label>Name:</label>
                            <input type="text" formControlName="componentName" class="admin-wrapper-main__card--form-input">
                        </div>
                        <div class="admin-wrapper-main__card--form-group">
                            <label>Description:</label>
                            <textarea formControlName="description" class="admin-wrapper-main__card--form-input"></textarea>
                        </div>
                        <div class="admin-wrapper-main__card--form-group">
                            <label>Delay:</label>
                            <input #delay type="number" formControlName="delay" class="admin-wrapper-main__card--form-input"><br>
                            <small>{{delay.value / 1000 | number}} seconds</small>
                        </div>
                    </div>
                    <br>
                    <button class="button succes" type="submit" (click)="addPath()">Add path</button> &nbsp;
                    <button class="button danger" type="button danger" (click)="removePath(i)">Remove path</button>
                    <br>
                    <!-- End of the repeated path template -->
                </div>
                <div>
                    <br>
                    <button class="button primary" type="submit" [disabled]="form.pristine">Save</button> &nbsp;
                    <button class="button danger" type="button danger" (click)="revert()" [disabled]="form.pristine">undo/reload</button>
                </div>
            </div>
        </form>
    </div>
</section>